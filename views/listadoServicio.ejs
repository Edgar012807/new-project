<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.rtl.min.css" integrity="sha384-OXTEbYDqaX2ZY/BOaZV/yFGChYHtrXH2nyXJ372n2Y8abBhrqacCEe+3qhSHtLjy" crossorigin="anonymous">
  <title>Servicios</title>
  <style>
  .multiselect {
    width: 150px;
    position:relative;
}

.selectBox {
    position: relative;
    bottom: 20px;
}

.selectBox select {
    width: 10%;
    position: relative;
    left: 48px;
}

.overSelect {
    position: absolute;
    left: 0;
    right: 0;
    top: 0;
    bottom: 0px;
}

#checkboxes {
    display: block;
    border: 1px #dadada solid;
    position:absolute;
    width:100%;
    background-color:rgb(10, 10, 10);
    box-sizing: border-box;
    overflow-y:auto;
    max-height:110px;
}
#checkboxes.hide {display:none;}

#checkboxes label {
    display: block;
}

#checkboxes label:hover {
    background-color: #1e90ff;
}
</style>
</head>
    <body>
      <style>
        html,body{
          overflow-x: hidden;
          overflow-y: hidden;
          color:black;
          font-family:'Opens Sans',helvetica;
          height:100%;
          width:100%;
          margin: 0px;
          padding: 0px;
        }
      </style>
      <%- include('partials/navigation') %>
      <h3 style="text-align: center;" id="titulo">RECURSO</h3>
      <nav aria-label="Page navigation example">
        <ul class="pagination">
          <li class="page-item">
            <a class="page-link" href="#" aria-label="Previous">
              <span aria-hidden="true">&laquo;</span>
            </a>
          </li>
          <li class="page-item"><a class="page-link" href="http://localhost:3006/api/v1/unidad?limit=8&&offset=0">1</a></li>
          <li class="page-item"><a class="page-link" href="http://localhost:3006/api/v1/unidad?limit=11&&offset=9">2</a></li>
          <li class="page-item">
            <a class="page-link" href="#" aria-label="Next">
              <span aria-hidden="true">&raquo;</span>
            </a>
          </li>
        </ul>
      </nav>
      <br>
      <div class="container">
        <a  style="position:relative;bottom: 40px ;" href="/api/v1/servicio/create" class="btn btn-outline-primary" >Create</a>
        <table style="position: relative;bottom: 55px;" class="table table-hover table-bordered-primary table-striped text-center mt-3 position">
          <thead class =''>

            <tr class="bg-primary text-white">

                <th style=" font-size:12px; " > Nit del cliente
                  <div class="multiselect">
                    <div class="selectBox" onclick="showCheckboxes()">
                        <select>
                            <option>Selecciona una opcion</option>
                        </select>
                        <div class="overSelect"></div>
                    </div>
                    <div id="checkboxes" class="hide">
                      <% servicios.forEach((servicio)=> {%>
                        <label for="c1"><input type="checkbox" id="nit" value=<%= servicio.clienClienit %> /><%= servicio.clien.clienomb %></label>
                        <% }) %>
                    </div>
                </div>
                  </th>
              <th scope="col" style=" font-size:12px;">CONCEPTO ASOCIADO A LA ORDEN</th>
              <th  scope="col" style=" font-size:12px;">ORDEN ASOCIADA</th>
              <th  scope="col" style=" font-size:12px;">PERIODO</th>
              <th  scope="col" style=" font-size:12px;">CODIGO DEL RECURSO</th>
              <th style=" font-size:12px;" scope="col">UNIDAD ASOCIADA</th>
              <th style=" font-size:12px; width: 10%;" scope="col">FECHA DEL SERVICIO</th>
              <th scope="col" style=" font-size:12px;">AÃ‘O DEL SERVICIO</th>
              <th scope="col" style=" font-size:12px;">MES DEL SERVICIO</th>
              <th style=" font-size:12px; " scope="col">CANTIDAD EJECUTADA </th>
              <th style=" font-size:12px;" scope="col">VALOR A FACTURAR </th>
              <th scope="col" style=" font-size:12px;">MODALIDAD DE COSTO</th>
              <th scope="col" style="line-height: 40px; font-size:12px;" >COSTO</th>
              <th scope="col"  style="line-height: 40px; font-size:12px;">ESTADO</th>
              <th scope="col" style="line-height: 40px; font-size:12px;">Acciones</th>

            </tr>
          </thead>
          <tbody>
            <% servicios.forEach((servicio)=> {%>
            <tr>
              <td><%= servicio.clien.clienomb %></td>
              <td><%= servicio.conCoorid %></td>
              <td><%= servicio.ordenOrdeid %></td>
              <td><%= servicio.periPericodi %></td>
              <td><%= servicio.recuRecucodi %></td>
              <td><%= servicio.uniUnidid %></td>
              <td ><%= servicio.servfech %></td>
              <td><%= servicio.servano %></td>
              <td><%= servicio.servmes %></td>
              <td><%= servicio.servcant %></td>
              <td><%= servicio.servvalo %></td>
              <td><%= servicio.servmoda %></td>
              <td><%= servicio.servcost %></td>
              <td><%= servicio.servesta %></td>

              <td style="width: 110px;">
              <a  class="btn btn-outline-info"  href="/api/v1/orden/edit/"><i class="fa-solid fa-pencil"></i></a>
              <a href="/delete" class="btn btn-outline-danger"><i class="fa-solid fa-trash"></i></a>
            </td>
            </tr>
          <% }) %>
          </tbody>
        </table>




      </div>
      <footer style="background-color: rgb(5, 5, 5); color: white; text-align: center; height: 400%; position: relative; top:340px ;height: 60px; line-height: 60px;">
        <p>Made In Horbath Technologies - Hecho como el elefante </p>

      </footer>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8" crossorigin="anonymous"></script>
      <script src="https://kit.fontawesome.com/aa384fa16a.js" crossorigin="anonymous"></script>
      <script>
        const mn = location.pathname.split('/');
        titulo.innerHTML= `${mn[3]}s`.toUpperCase();
  function showCheckboxes() {
    var checkboxes = document.getElementById("checkboxes");
    const input = document.querySelector('#nit');
    if (input.checked == true) {
    console.log(input.value)
  }
    if(checkboxes.classList.contains("hide")) {
        checkboxes.classList.remove("hide");
    } else {
        checkboxes.classList.add("hide");
    }
}
      </script>




</body>
</html>
