<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.rtl.min.css"
      integrity="sha384-OXTEbYDqaX2ZY/BOaZV/yFGChYHtrXH2nyXJ372n2Y8abBhrqacCEe+3qhSHtLjy"
      crossorigin="anonymous"
    />

    <title>Cliente</title>
    <style>
      html,
      body {
        /* | */
        color: black;
        font-family: "Opens Sans", helvetica;
        height: 100%;
        width: 100%;
        margin: 0px;
        padding: 0px;
      }
    </style>
  </head>

  <body>
    <%- include('partials/navigation') %>
    <br />
    <h3 style="text-align: center" id="titulo">RECURSO</h3>
    <br />
    <!-- Modal crear -->
    <div class="modal" tabindex="-1" id="nimodal">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Creacion Cliente</h5>
          </div>
          <div class="modal-body">
            <div style="background-color: red; display: flex; width: 10%">
              <span id="err"></span>
            </div>
            <form id="formular" action="">
              <div class="mb-3">
                <label for="user" class="form-label">Nombre del cliente</label>
                <input
                  type="text"
                  class="form-control"
                  id="clienomb"
                  name="clienomb"
                  tabindex="1"
                  required
                />
                <label for="user" class="form-label">Nit del cliente</label>
                <input
                  type="text"
                  class="form-control"
                  id="clienit"
                  name="clienit"
                  tabindex="1"
                  required
                />
              </div>
              <div class="mb-3">
                <!-- <label for="user" class="form-label">Rol</label>
              <select id="rol" name="rol" class="form-select" aria-label="Default select example" tabindex="2">
                  <option value="admin" selected>Admin</option>
                  <option value="data entry">Data Entry</option>
              </select> -->
              </div>
              <button id="btnCliente" class="btn btn-primary" tabindex="5">
                Guardar
              </button>
              <a href="" data-bs-dismiss="modal" class="btn btn-secondary"
                >Cancelar</a
              >
            </form>
          </div>
          <div class="modal-footer"></div>
        </div>
      </div>
    </div>

    <!-- Modal editar -->
    <div class="modal" tabindex="-1" id="modal_edit">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Editar Cliente</h5>
          </div>
          <div class="modal-body">
            <form id="editForm">
              <div class="mb-3">
                <label for="id" class="form-label">ID</label>
                <input
                  type="text"
                  class="form-control"
                  id="id"
                  name="id"
                  tabindex="1"
                  readonly="readonly"
                />

                <label for="clienomb" class="form-label"
                  >Nombre del Cliente</label
                >
                <input
                  type="text"
                  class="form-control"
                  id="cli"
                  name="cli"
                  tabindex="1"
                />
                <label for="clienomb" class="form-label"
                  >Nit del Cliente</label
                >
                <input
                  type="text"
                  class="form-control"
                  id="cled"
                  name="cled"
                  tabindex="1"
                />

                <label for="clieesta" class="form-label"
                  >Estado del Cliente</label
                >
                <select
                  id="clieesta"
                  class="form-select"
                  aria-label="Default select example"
                  tabindex="2"
                >
                  <option>A | Activo</option>
                  <option>I | Inactivo</option>
                </select>
              </div>
              <div class="mb-3">
                <!-- <label for="user" class="form-label">Rol</label>
                    <select id="rol" name="rol" class="form-select" aria-label="Default select example" tabindex="2">
                        <option value="admin" selected>Admin</option>
                        <option value="data entry">Da
                          ta Entry</option>
                    </select> -->
              </div>
              <button
                class="btn btn-primary"
                tabindex="5"
                onclick="actualizarCliente()"
              >
                Actualizar
              </button>
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                Close
              </button>
            </form>
          </div>
          <div class="modal-footer"></div>
        </div>
      </div>
    </div>

    <!--  -->

    <div class="container">
      <a
        style="position: relative; bottom: 40px"
        class="btn btn-outline-primary"
        data-bs-toggle="modal"
        data-bs-target="#nimodal"
        title="Crear"
        ><i class="fa-solid fa-plus"></i
      ></a>
      <table
        style="position: relative; bottom: 55px; border-radius: 5px"
        class="table table-hover table-bordered-primary mt-3 position "
      >
        <thead class="table">
          <tr class="bg-primary text-white">
            <th scope="col">ID</th>
            <th scope="col">Nombre del Cliente</th>
            <th scope="col">Nit del Cliente</th>
            <th scope="col">Estado del cliente</th>
            <th scope="col">Acciones</th>
          </tr>
        </thead>
        <tbody>
          <% clientes.forEach((cliente)=> {%>
          <tr>
            <td><%= cliente.clieid %></td>
            <td><%= cliente.clienomb %></td>
            <td><%= cliente.clienit %></td>
            <td><%= cliente.clieesta %></td>
            <td>
              <a
                id="clientesId"
                class="btn btn-outline-info"
                onclick="obtenerCliente('<%=cliente.clieid %>')"
                data-bs-toggle="modal"
                data-bs-target="#modal_edit"
                title="Editar"
                ><i class="fa-solid fa-pencil"></i
              ></a>
              <a class="btn btn-outline-danger"
                ><i class="fa-solid fa-trash"></i
              ></a>
            </td>
          </tr>
          <% }) %>
        </tbody>
      </table>
    </div>

    <footer
      style="
        background-color: rgb(5, 5, 5);
        color: white;
        text-align: center;
        height: 400%;
        position: relative;
        top: 175px;
        height: 60px;
        line-height: 60px;
      "
    >
      <p>Made In Horbath Technologies - Hecho como el elefante</p>
    </footer>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://kit.fontawesome.com/aa384fa16a.js"
      crossorigin="anonymous"
    ></script>
    <script src="/cliente.js"></script>
  </body>
</html>
